CONFIG_LOG=y

CONFIG_SPI=y
CONFIG_GPIO=y
CONFIG_DISPLAY=y

# 启用 MIPI DBI for LCD
CONFIG_MIPI_DBI=y
CONFIG_MIPI_DBI_SPI=y

# 启用 LVGL 核心功能
CONFIG_LVGL=y
CONFIG_LV_COLOR_DEPTH_16=y
CONFIG_LV_USE_LABEL=y
CONFIG_LV_USE_BUTTON=y
CONFIG_LV_USE_BAR=y
CONFIG_LV_USE_SLIDER=y
CONFIG_LV_USE_ARC=y
CONFIG_LV_USE_SWITCH=y
CONFIG_LV_USE_CHECKBOX=y
CONFIG_LV_USE_THEME_DEFAULT=n
CONFIG_LV_USE_LOG=y

# 字体配置 - 清晰位图字体
CONFIG_LV_FONT_MONTSERRAT_12=y
CONFIG_LV_FONT_MONTSERRAT_8=y
CONFIG_LV_FONT_MONTSERRAT_18=y
CONFIG_LV_FONT_DEFAULT_MONTSERRAT_8=y
CONFIG_LV_FONT_UNSCII_8=y
CONFIG_LV_FONT_UNSCII_16=y

# 内存和性能优化
CONFIG_LV_Z_MEM_POOL_SIZE=32768
CONFIG_LV_Z_BUFFER_ALLOC_STATIC=y

# 启用复杂绘制以避免警告
CONFIG_LV_DRAW_SW_COMPLEX=y

# 显示器设置 - 确保像素完美
CONFIG_LV_COLOR_16_SWAP=n

# LVGL 显示缓冲区配置 - 最小化以减少花色
CONFIG_LV_Z_VDB_SIZE=10
CONFIG_LV_Z_MEM_POOL_SYS_HEAP=y

# LVGL 刷新配置 - 提高刷新率以获得更清晰显示
CONFIG_LV_DEF_REFR_PERIOD=30
CONFIG_LV_Z_AUTO_INIT=y
CONFIG_LV_Z_FLUSH_THREAD=n

# Shell 配置 - 使用串口shell输入，LCD显示输出
CONFIG_SHELL=y
CONFIG_SHELL_BACKENDS=y
CONFIG_SHELL_BACKEND_DUMMY=y

# Shell输出重定向配置
CONFIG_SHELL_LOG_BACKEND=y

# Shell 扩展功能
CONFIG_SHELL_CMDS=y
CONFIG_SHELL_HISTORY=y
CONFIG_SHELL_HISTORY_BUFFER=128
CONFIG_SHELL_STATS=y

# 控制台和打印重映射 - 保持串口可用，添加LCD后端
CONFIG_CONSOLE=y
CONFIG_CONSOLE_SUBSYS=y
CONFIG_CONSOLE_HANDLER=y
CONFIG_STDOUT_CONSOLE=y

# LOG系统 - 启用串口和自定义后端
CONFIG_LOG_BACKEND_UART=y
CONFIG_LOG_BACKEND_RTT=n

# 启用输入子系统支持
CONFIG_INPUT=y

# 启用串口Shell作为输入源（通过UART输入命令）
CONFIG_SHELL_BACKEND_SERIAL=y
CONFIG_SHELL_PROMPT_UART="s3:~$ "

# 启用控制台重定向支持
CONFIG_UART_CONSOLE=y

# 添加串口输入输出重定向
CONFIG_PRINTK=y
CONFIG_EARLY_CONSOLE=y
CONFIG_HEAP_MEM_POOL_SIZE=16384

# 增加堆栈大小
CONFIG_MAIN_STACK_SIZE=8192
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=8192
